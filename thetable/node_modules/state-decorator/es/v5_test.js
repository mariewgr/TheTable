import{isSimpleSyncAction as r,isSyncAction as e,isAsyncAction as n,isAsyncGetPromiseAction as o,isAsyncGetPromiseGetAction as t}from"./impl";var s,i=function(){return i=Object.assign||function(r){for(var e,n=1,o=arguments.length;n<o;n++)for(var t in e=arguments[n])Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r},i.apply(this,arguments)};function l(r,e,n){if(n||2===arguments.length)for(var o,t=0,s=e.length;t<s;t++)!o&&t in e||(o||(o=Array.prototype.slice.call(e,0,t)),o[t]=e[t]);return r.concat(o||Array.prototype.slice.call(e))}function u(r){return!(r instanceof Function)&&(r.hasOwnProperty("promise")||r.hasOwnProperty("promiseGet"))}function a(r){return!(r instanceof Function||r.hasOwnProperty("promise")&&r.hasOwnProperty("promiseGet"))}function c(r){return r instanceof Function}function p(r){return!(r instanceof Function||r.hasOwnProperty("promise")||r.hasOwnProperty("promiseGet"))}function d(r,e){return u(r)?e(function(r){return"promiseGet"in r?i(i({},r),{promise:r.promiseGet,retryCount:3,conflictPolicy:s.REUSE}):r}(r)):Promise.reject(new Error("This action is not an asynchronous action"))}function f(r,e){return c(r)?e(r):Promise.reject(new Error("This action is not a synchronous action"))}function m(r,e){return p(r)?e(r):Promise.reject(new Error("This action is not a synchronous advanced action"))}function g(e,n){if(r(e)){return n((function(r,n,o){return v(r,e({s:r,args:n,p:o,ds:null,derived:null,state:r,props:o,promiseId:null}))})),Promise.resolve()}return Promise.reject(new Error("This action is not a synchronous action"))}function v(r,e){return null==e?null:i(i({},r),e)}function y(r,n){return e(r)?(n({action:function(e,n,o){return v(e,r.effects({s:e,args:n,p:o,ds:null,derived:null,state:e,props:o,res:null,result:null,promiseId:null}))},onActionDone:function(e,n,o,t,s){r.sideEffects({s:e,args:n,p:o,a:t,notifyWarning:s,ds:null,derived:null,state:e,props:o,actions:t,res:null,result:null,promiseId:null,clearError:function(){}})}}),Promise.resolve()):Promise.reject(new Error("This action is not a synchronous action"))}function E(r,e){return n(r)?e({abortable:r.abortable,rejectPromiseOnError:r.rejectPromiseOnError,retryCount:r.retryCount,retryDelaySeed:r.retryDelaySeed,isTriggerRetryError:r.isTriggerRetryError,conflictPolicy:r.conflictPolicy,getPromiseId:r.getPromiseId,promise:function(e,n,t,s,i){return o(r)?r.getPromise({s:n,args:e,p:t,a:s,abortSignal:i,ds:null,derived:null,state:n,props:t,actions:s,promiseId:null}):r.getGetPromise({s:n,args:e,p:t,a:s,abortSignal:i,ds:null,derived:null,state:n,props:t,actions:s,promiseId:null})},promiseGet:function(e,n,o,s,i){return t(r)?r.getGetPromise({s:n,args:e,p:o,a:s,abortSignal:i,ds:null,derived:null,state:n,props:o,actions:s,promiseId:null}):null},reducer:function(e,n,o,t){return r.effects?v(e,r.effects({s:e,args:o,p:t,res:n,ds:null,derived:null,state:e,props:t,result:n,promiseId:null})):null},preReducer:function(e,n,o){return r.preEffects?v(e,r.preEffects({s:e,args:n,p:o,ds:null,derived:null,state:e,props:o,promiseId:null})):null},optimisticReducer:function(e,n,o){var t;return r.optimisticEffects?v(e,r.optimisticEffects({s:e,args:n,p:o,ds:null,derived:null,state:e,props:o,promiseId:null===(t=r.getPromiseId)||void 0===t?void 0:t.call.apply(t,l([r],n,!1))})):null},errorReducer:function(e,n,o,t){var s;return r.errorEffects?v(e,r.errorEffects({s:e,args:o,p:t,err:n,ds:null,derived:null,state:e,props:t,error:n,promiseId:null===(s=r.getPromiseId)||void 0===s?void 0:s.call.apply(s,l([r],o,!1))})):null},onDone:function(e,n,o,t,s,i){var u,a;null===(u=r.sideEffects)||void 0===u||u.call(r,{s:e,args:o,p:t,a:s,res:n,notifyWarning:i,ds:null,derived:null,state:e,props:t,actions:s,result:n,promiseId:null===(a=r.getPromiseId)||void 0===a?void 0:a.call.apply(a,l([r],o,!1)),clearError:function(){}})},onFail:function(e,n,o,t,s,i){var u,a;null===(u=r.errorSideEffects)||void 0===u||u.call(r,{s:e,args:o,p:t,a:s,err:n,notifyWarning:i,ds:null,derived:null,state:e,props:t,actions:s,error:n,promiseId:null===(a=r.getPromiseId)||void 0===a?void 0:a.call.apply(a,l([r],o,!1))})},getErrorMessage:function(e,n,o){var t,s;return null===(t=r.getErrorMessage)||void 0===t?void 0:t.call(r,{err:e,p:o,args:n,ds:null,derived:null,state:null,s:null,error:e,props:o,promiseId:null===(s=r.getPromiseId)||void 0===s?void 0:s.call.apply(s,l([r],n,!1))})},getSuccessMessage:function(e,n,o){var t,s;return null===(t=r.getSuccessMessage)||void 0===t?void 0:t.call(r,{res:e,args:n,p:o,ds:null,derived:null,state:null,s:null,result:e,props:o,promiseId:null===(s=r.getPromiseId)||void 0===s?void 0:s.call.apply(s,l([r],n,!1))})}}):Promise.reject(new Error("This action is not a synchronous action"))}"function"==typeof SuppressedError&&SuppressedError,function(r){r.REJECT="reject",r.IGNORE="ignore",r.KEEP_LAST="keepLast",r.KEEP_ALL="keepAll",r.PARALLEL="parallel",r.REUSE="reuse",r.ABORT="abort"}(s||(s={}));export{p as isAdvancedSyncAction,u as isAsyncAction,a as isAsyncPromiseGetAction,c as isSyncAction,m as testAdvancedSyncAction,d as testAsyncAction,f as testSyncAction,y as testV6AdvancedSyncAction,E as testV6AsyncAction,g as testV6SyncAction};
//# sourceMappingURL=v5_test.js.map
